<html>
  <title>Blog on Sketchpad14: Part II</title>
  <head>
    <link href="./lib/prism.css" rel="stylesheet" />
    <link href="index.css" rel="stylesheet"></link>
  </head>
  </style>
<body>
  <script src="./lib/prism.js"></script>
  <hd>Half-Century Later:
    <br>
    "From Sketchpad<small>61</small> to Sketchpad<small>14</small>"
    <br>
    <small>
      Part II: Constraint Reactive Programming (CRP) in Sketchpad<small>14</small>
    </small>
  </hd>
  <br><br>
  <small><a href="http://www.hesam.us">Hesam Samimi</a>, <a href="http://www.tinlizzie.org/~awarth">Alex Warth</a>, <a href="http://www.cs.washington.edu/people/faculty/borning">Alan Borning</a><br><a href="http://www.cdglabs.org">Communication Design Group</a></small>
  <br><br>
  <img src="img/1.png"></img>
  <br>
  <hd1>53 Years Later: Sketchpad<small>14</small></hd1>
  <div class="chapter">
    <p>
      Overveld's alternative relaxation constraint solving approach for the geometric constraints a la Sketchpad inspired us to build a fully general programming model around it. We call it Sketchpad<small>14</small>. Our intention was to go back and honor and implement most of the cool things about Sutherland's Sketchpad, yet build a realistic system to build interactive web applications. Our main observations are:
    </p>
    <ul>
      <li>
	Sketchpad, as well as Overveld's tweak on its solving strategy seem to be a great way to design, explain, and modify a program. Each program is organized as a set of individual constraints declaratively specified. It's the job of the system to combine the result of all constraints, rather than asking the user to make out the aggregate behavior. Modifying and extending a program means simply removing and adding constraints. Based on our experiments, this way of programming makes the whole process quite <i>linear</i> and gistible for the human mind.
      </li>
      <li>
	Overveld's approach of deligating the responsibility for solving the individual constraint types from the system to the constraints themselves has a much higher chance of being extended to general programming. In its model the user is in charge and can employ domain specific knowledge and own data structures and abstractions to describe and efficiently solve a particular constraint. For example, if the user has access to a Fast Fourier Transform library function, she can invoke it as part of solving a given problem that requires it, rather than leaving it at the mercy of relaxation and linear approximation. 
      </li>
    </ul>
    <p>
      As in Sketchpad and Overveld's geometric constraints, the way to define and modify the behavior of a program is to add/remove constraints, rather than the common imperative programming practice of "writing code." We take Overveld's approach, however, and require that constraint types be defined beforehand. This means we let the user define constraint types as well as how to solve them in isolation. This is what's empowering about the approach as the user is put in the driver seat to use the programming language of the program itself to define the constraint and also provide an "algorithm" to solve it.
    </p>
    <p>
      Another aspect of Sketchpad<small>14</small> is that it gives a principled mechanism for the user to define the <i>reactive</i> part of an interactive program. The next section explains a semi-formal programming model implemented by the tool that we call <i>Constraint Reactive Programming</i>.
    </p>
  </div>
  <img src="img/1.png"></img>
  <br>
  <hd1>Constraint Reactive Programming</hd1>
  <div class="chapter">
    <p>
      Sketchpad<small>14</small> is hosted in JavaScript, so we will explain the Constraint Reactive Programming (CRP) model in the context of the JS language.
    </p>
    In this language, primitive types as well as functions and objects serve as values. Objects can be instantiated and referenced, as usual. However, imperative style programming, e.g. assignments for computation, isn't done.
    <p>
      Constructing a program in the CRP model involves describing four parts:
      <ul>
      <li>
      (1) data and constraint <b>class definitions</b>
      </li>
      <li>
      (2) <b>data</b>, as instances of data classes
      </li>
      <li>
	(3) <b>continuous behaviors</b> given in terms of constraints operating over the data, as instances of constraint classes
      </li>
      <li>
	(4) <b>discrete behaviors</b>, that is, the definition of events.
      </li>
      </ul>
    </p>
    <p>
      An <i>event</i> is defined by:
      <ul>
      <li>
	(a) a <i>trigger</i>, e.g. a IO event or a predicate over the state
      </li>
      <li>
	(b) a <i>handler method</i> describing the changes that need to occur anytime the event is triggered
      </li>
    </p>
      <p>
      The model restricts what can be done in a handler, and it will be primarily used to add/remove data or continuous constraints to/from the store. Another thing that can occur in the event handler is a <i>discrete constraint</i>, i.e. one that is only solved once at the time even is triggered, but it doesn't get added to the store unlike the continuous constraints.
    </p>
    <p>
Therefore, the execution model is unlike the imperative style, i.e., statement by statement. The program is assumed to be <i>reactive</i>. All present constraints are assumed to be continuously operating over the data, affecting them any time they are left unsatisfied. The events are always assumed to be ready to be triggered.
    </p>
    <p>
      OK, enough talking! We'll come back to CRP later. Let's jump to examples in the <a href="3.html">next part</a>.
    </p>
  </div>
  <img src="img/1.png"></img>
  <br>
  <p>
    Read <a href="3.html">Part III: Using Sketchpad<small>14</small> with Predefined Types</a><br>
    Back to <a href="index.html">Table of Contents</a><br>
    Try <a href="../index.html">Sketchpad<small>14</small></a>
  </p>  
</body>
</html>
